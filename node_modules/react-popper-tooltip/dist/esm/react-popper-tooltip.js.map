{"version":3,"file":"react-popper-tooltip.js","sources":["../../src/utils.ts","../../src/Tooltip.tsx","../../src/TooltipTrigger.tsx"],"sourcesContent":["import React from 'react';\n\nexport const TooltipContext = React.createContext({});\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype Fn = (...args: any[]) => void;\ntype FnOrBool = undefined | Fn;\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const callAll = (...fns: FnOrBool[]) => (...args: any[]) =>\n  fns.forEach(fn => fn && fn(...args));\n\nexport const noop = () => {};\n\nexport const canUseDOM = () =>\n  !!(\n    typeof window !== 'undefined' &&\n    window.document &&\n    window.document.createElement\n  );\n","import React, {Component} from 'react';\nimport {GetArrowPropsArg, GetTooltipPropsArg, TooltipProps} from './types';\nimport {callAll, TooltipContext} from './utils';\n\nconst MUTATION_OBSERVER_CONFIG: MutationObserverInit = {\n  childList: true,\n  subtree: true\n};\n\nclass Tooltip extends Component<TooltipProps> {\n  public static contextType = TooltipContext;\n\n  private observer?: MutationObserver;\n  private tooltipRef!: HTMLElement | null;\n\n  public componentDidMount() {\n    const {trigger} = this.props;\n    const observer = (this.observer = new MutationObserver(() => {\n      this.props.scheduleUpdate();\n    }));\n    observer.observe(this.tooltipRef!, MUTATION_OBSERVER_CONFIG);\n\n    if (trigger !== 'none' && trigger !== 'focus') {\n      const {\n        removeParentOutsideClickHandler,\n        removeParentOutsideRightClickHandler\n      } = this.context;\n      this.addOutsideClickHandler();\n      this.addOutsideRightClickHandler();\n      if (removeParentOutsideClickHandler) {\n        removeParentOutsideClickHandler();\n      }\n      if (removeParentOutsideRightClickHandler) {\n        removeParentOutsideRightClickHandler();\n      }\n    }\n  }\n\n  public componentDidUpdate() {\n    if (this.props.closeOnOutOfBoundaries && this.props.outOfBoundaries) {\n      this.props.hideTooltip();\n    }\n  }\n\n  public componentWillUnmount() {\n    const {trigger} = this.props;\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n\n    if (trigger !== 'none' && trigger !== 'focus') {\n      const {\n        isParentNoneTriggered,\n        addParentOutsideClickHandler,\n        addParentOutsideRightClickHandler\n      } = this.context;\n      this.removeOutsideClickHandler();\n      this.removeOutsideRightClickHandler();\n      this.handleOutsideClick = undefined;\n      this.handleOutsideRightClick = undefined;\n      if (!isParentNoneTriggered && addParentOutsideClickHandler) {\n        addParentOutsideClickHandler();\n      }\n      if (!isParentNoneTriggered && addParentOutsideRightClickHandler) {\n        addParentOutsideRightClickHandler();\n      }\n    }\n  }\n\n  public render() {\n    const {arrowProps, placement, tooltip} = this.props;\n\n    return (\n      <TooltipContext.Provider value={this.contextValue}>\n        {tooltip({\n          arrowRef: arrowProps.ref,\n          getArrowProps: this.getArrowProps,\n          getTooltipProps: this.getTooltipProps,\n          placement,\n          tooltipRef: this.getTooltipRef\n        })}\n      </TooltipContext.Provider>\n    );\n  }\n\n  private handleOutsideClick?: EventListener = event => {\n    if (this.tooltipRef && !this.tooltipRef.contains(event.target as Node)) {\n      const {parentOutsideClickHandler} = this.context;\n      const {hideTooltip, clearScheduled} = this.props;\n\n      clearScheduled();\n      hideTooltip();\n      if (parentOutsideClickHandler) {\n        parentOutsideClickHandler(event);\n      }\n    }\n  };\n\n  private handleOutsideRightClick?: EventListener = event => {\n    if (this.tooltipRef && !this.tooltipRef.contains(event.target as Node)) {\n      const {parentOutsideRightClickHandler} = this.context;\n      const {hideTooltip, clearScheduled} = this.props;\n\n      clearScheduled();\n      hideTooltip();\n      if (parentOutsideRightClickHandler) {\n        parentOutsideRightClickHandler(event);\n      }\n    }\n  };\n\n  private addOutsideClickHandler = () => {\n    document.body.addEventListener('touchend', this.handleOutsideClick!);\n    document.body.addEventListener('click', this.handleOutsideClick!);\n  };\n\n  private removeOutsideClickHandler = () => {\n    document.body.removeEventListener('touchend', this.handleOutsideClick!);\n    document.body.removeEventListener('click', this.handleOutsideClick!);\n  };\n\n  private addOutsideRightClickHandler = () =>\n    document.body.addEventListener(\n      'contextmenu',\n      this.handleOutsideRightClick!\n    );\n\n  private removeOutsideRightClickHandler = () =>\n    document.body.removeEventListener(\n      'contextmenu',\n      this.handleOutsideRightClick!\n    );\n\n  private getTooltipRef = (ref: HTMLElement | null) => {\n    this.tooltipRef = ref;\n    this.props.innerRef(ref);\n  };\n\n  private getArrowProps = (props: GetArrowPropsArg = {}) => ({\n    ...props,\n    style: {...props.style, ...this.props.arrowProps.style}\n  });\n\n  private getTooltipProps = (props: GetTooltipPropsArg = {}) => {\n    const isHoverTriggered = this.props.trigger === 'hover';\n\n    return {\n      ...props,\n      ...(isHoverTriggered && {\n        onMouseEnter: callAll(this.props.clearScheduled, props.onMouseEnter),\n        onMouseLeave: callAll(this.props.hideTooltip, props.onMouseLeave)\n      }),\n      style: {...props.style, ...this.props.style}\n    };\n  };\n\n  private contextValue = {\n    isParentNoneTriggered: this.props.trigger === 'none',\n    addParentOutsideClickHandler: this.addOutsideClickHandler,\n    addParentOutsideRightClickHandler: this.addOutsideRightClickHandler,\n    parentOutsideClickHandler: this.handleOutsideClick,\n    parentOutsideRightClickHandler: this.handleOutsideRightClick,\n    removeParentOutsideClickHandler: this.removeOutsideClickHandler,\n    removeParentOutsideRightClickHandler: this.removeOutsideRightClickHandler\n  };\n}\n\nexport default Tooltip;\n","/**\n * @author Mohsin Ul Haq <mohsinulhaq01@gmail.com>\n */\nimport PopperJS from 'popper.js';\nimport React, {Component} from 'react';\nimport {createPortal} from 'react-dom';\nimport {Manager, Popper, Reference} from 'react-popper';\nimport Tooltip from './Tooltip';\nimport {\n  GetTriggerPropsArg,\n  TooltipTriggerProps,\n  TooltipTriggerState,\n  TriggerTypes\n} from './types';\nimport {callAll, canUseDOM, noop} from './utils';\n\nconst DEFAULT_MODIFIERS: PopperJS.Modifiers = {\n  preventOverflow: {\n    boundariesElement: 'viewport'\n  }\n};\n\nclass TooltipTrigger extends Component<\n  TooltipTriggerProps,\n  TooltipTriggerState\n> {\n  public static defaultProps = {\n    closeOnOutOfBoundaries: true,\n    defaultTooltipShown: false,\n    delayHide: 0,\n    delayShow: 0,\n    followCursor: false,\n    onVisibilityChange: noop,\n    placement: 'right',\n    portalContainer: canUseDOM() ? document.body : null,\n    trigger: 'hover',\n    usePortal: canUseDOM()\n  };\n\n  public state: TooltipTriggerState = {\n    tooltipShown: this.props.defaultTooltipShown\n  };\n\n  private hideTimeout?: number;\n  private showTimeout?: number;\n  private popperOffset?: PopperJS.Offset;\n\n  public componentWillUnmount() {\n    this.clearScheduled();\n  }\n\n  public render() {\n    const {\n      children,\n      tooltip,\n      placement,\n      trigger,\n      getTriggerRef,\n      modifiers,\n      closeOnOutOfBoundaries,\n      usePortal,\n      portalContainer,\n      followCursor,\n      getTooltipRef\n    } = this.props;\n\n    const popper = (\n      <Popper\n        innerRef={getTooltipRef}\n        placement={placement}\n        modifiers={{\n          ...DEFAULT_MODIFIERS,\n          ...(followCursor && {\n            followCursorModifier: {\n              enabled: true,\n              fn: data => {\n                this.popperOffset = data.offsets.popper;\n                return data;\n              },\n              order: 1000\n            }\n          }),\n          ...modifiers\n        }}\n      >\n        {({\n          ref,\n          style,\n          // tslint:disable-next-line\n          placement,\n          arrowProps,\n          outOfBoundaries,\n          scheduleUpdate\n        }) => {\n          if (followCursor && this.popperOffset) {\n            const {pageX, pageY} = this.state;\n            const {width, height} = this.popperOffset;\n            const x =\n              pageX! + width > window.scrollX + document.body.offsetWidth\n                ? pageX! - width\n                : pageX;\n            const y =\n              pageY! + height > window.scrollY + document.body.offsetHeight\n                ? pageY! - height\n                : pageY;\n            style.transform = `translate3d(${x}px, ${y}px, 0`;\n          }\n\n          return (\n            <Tooltip\n              {...{\n                arrowProps,\n                closeOnOutOfBoundaries,\n                outOfBoundaries,\n                placement,\n                scheduleUpdate,\n                style,\n                tooltip,\n                trigger\n              }}\n              clearScheduled={this.clearScheduled}\n              hideTooltip={this.hideTooltip}\n              innerRef={ref}\n            />\n          );\n        }}\n      </Popper>\n    );\n\n    return (\n      <Manager>\n        <Reference innerRef={getTriggerRef}>\n          {({ref}) =>\n            children({getTriggerProps: this.getTriggerProps, triggerRef: ref})\n          }\n        </Reference>\n        {this.getState() &&\n          (usePortal ? createPortal(popper, portalContainer) : popper)}\n      </Manager>\n    );\n  }\n\n  private isControlled() {\n    return this.props.tooltipShown !== undefined;\n  }\n\n  private getState() {\n    return this.isControlled()\n      ? this.props.tooltipShown\n      : this.state.tooltipShown;\n  }\n\n  private setTooltipState = (state: TooltipTriggerState) => {\n    const cb = () => this.props.onVisibilityChange(state.tooltipShown);\n    this.isControlled() ? cb() : this.setState(state, cb);\n  };\n\n  private clearScheduled = () => {\n    clearTimeout(this.hideTimeout);\n    clearTimeout(this.showTimeout);\n  };\n\n  private showTooltip = ({pageX, pageY}: {pageX: number; pageY: number}) => {\n    this.clearScheduled();\n    let state: TooltipTriggerState = {\n      tooltipShown: true\n    };\n    if (this.props.followCursor) {\n      state = {\n        ...state,\n        pageX,\n        pageY\n      };\n    }\n    this.showTimeout = window.setTimeout(\n      () => this.setTooltipState(state),\n      this.props.delayShow\n    );\n  };\n\n  private hideTooltip = () => {\n    this.clearScheduled();\n    this.hideTimeout = window.setTimeout(\n      () => this.setTooltipState({tooltipShown: false}),\n      this.props.delayHide\n    );\n  };\n\n  private toggleTooltip = ({pageX, pageY}: {pageX: number; pageY: number}) => {\n    const action = this.getState() ? 'hideTooltip' : 'showTooltip';\n    this[action]({pageX, pageY});\n  };\n\n  private clickToggle: React.MouseEventHandler = (event: React.MouseEvent) => {\n    event.preventDefault();\n    const {pageX, pageY} = event;\n    const action = this.props.followCursor ? 'showTooltip' : 'toggleTooltip';\n    this[action]({pageX, pageY});\n  };\n\n  private contextMenuToggle: React.MouseEventHandler = event => {\n    event.preventDefault();\n    const {pageX, pageY} = event;\n    const action = this.props.followCursor ? 'showTooltip' : 'toggleTooltip';\n    this[action]({pageX, pageY});\n  };\n\n  private isTriggeredBy(event: TriggerTypes) {\n    const {trigger} = this.props;\n    return (\n      trigger === event || (Array.isArray(trigger) && trigger.includes(event))\n    );\n  }\n\n  private getTriggerProps = (props: GetTriggerPropsArg = {}) => {\n    return {\n      ...props,\n      ...(this.isTriggeredBy('click') && {\n        onClick: callAll(this.clickToggle, props.onClick),\n        onTouchEnd: callAll(this.clickToggle, props.onTouchEnd)\n      }),\n      ...(this.isTriggeredBy('right-click') && {\n        onContextMenu: callAll(this.contextMenuToggle, props.onContextMenu)\n      }),\n      ...(this.isTriggeredBy('hover') && {\n        onMouseEnter: callAll(this.showTooltip, props.onMouseEnter),\n        onMouseLeave: callAll(this.hideTooltip, props.onMouseLeave),\n        ...(this.props.followCursor && {\n          onMouseMove: callAll(this.showTooltip, props.onMouseMove)\n        })\n      }),\n      ...(this.isTriggeredBy('focus') && {\n        onFocus: callAll(this.showTooltip, props.onFocus),\n        onBlur: callAll(this.hideTooltip, props.onBlur)\n      })\n    };\n  };\n}\n\nexport default TooltipTrigger;\n"],"names":["TooltipContext","React","createContext","callAll","fns","args","forEach","fn","noop","canUseDOM","window","document","createElement","MUTATION_OBSERVER_CONFIG","childList","subtree","Tooltip","observer","tooltipRef","handleOutsideClick","event","contains","target","parentOutsideClickHandler","context","props","hideTooltip","clearScheduled","handleOutsideRightClick","parentOutsideRightClickHandler","addOutsideClickHandler","body","addEventListener","removeOutsideClickHandler","removeEventListener","addOutsideRightClickHandler","removeOutsideRightClickHandler","getTooltipRef","ref","innerRef","getArrowProps","style","arrowProps","getTooltipProps","isHoverTriggered","trigger","onMouseEnter","onMouseLeave","contextValue","isParentNoneTriggered","addParentOutsideClickHandler","addParentOutsideRightClickHandler","removeParentOutsideClickHandler","removeParentOutsideRightClickHandler","componentDidMount","MutationObserver","scheduleUpdate","observe","componentDidUpdate","closeOnOutOfBoundaries","outOfBoundaries","componentWillUnmount","disconnect","undefined","render","placement","tooltip","arrowRef","Component","contextType","DEFAULT_MODIFIERS","preventOverflow","boundariesElement","TooltipTrigger","state","tooltipShown","defaultTooltipShown","hideTimeout","showTimeout","popperOffset","setTooltipState","cb","onVisibilityChange","isControlled","setState","clearTimeout","showTooltip","pageX","pageY","followCursor","setTimeout","delayShow","delayHide","toggleTooltip","action","getState","clickToggle","preventDefault","contextMenuToggle","getTriggerProps","isTriggeredBy","onClick","onTouchEnd","onContextMenu","onMouseMove","onFocus","onBlur","children","getTriggerRef","modifiers","usePortal","portalContainer","popper","followCursorModifier","enabled","data","offsets","order","width","height","x","scrollX","offsetWidth","y","scrollY","offsetHeight","transform","triggerRef","createPortal","Array","isArray","includes","defaultProps"],"mappings":"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"}